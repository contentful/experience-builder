# create-contentful-studio-experiences

This package is a CLI tool to bootstrap a [React, Vite & TypeScript](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) app that renders [Studio Experiences](https://www.contentful.com/developers/docs/experiences/what-are-experiences/).

## Prerequisites

A Contentful Space that has Studio Experiences enabled. See: [How to enable Experiences in a space](https://www.contentful.com/help/enable-spaces-for-experiences/).

## Getting started

To create a Contentful Studio Experiences project, run this command and follow the prompts.

```bash
npm init contentful-studio-experiences
```

Navigate to your project directory and start the server. After that, you can manage your Experiences in Contentful.

```bash
cd studio-experiences-react-app
npm run dev
```

## CLI Steps

1. Project Type - Currently supports React.
2. React Type - Currently supports Vite + React + TypeScript.
3. Installation Path - The generated project will be installed here.
4. Connect to Contentful Space _(Optional)_ - Note: only spaces that have Studio Experiences enabled are eligible. See: [How to enable Experiences in a space](https://www.contentful.com/help/enable-spaces-for-experiences/).
    - Select your Contentful Organization.
    - Select your Contentful Space.
    - Select your Environment (if your Space has multiple).
    - Select or Create an API key.
    - Content Type will be created for Experiences if needed.
    - Demo Experience Entry will be created (unless one exists).
    - Content Preview Settings will be configured if needed.
5. Project Output - The React project will be created, incorporating the [Studio Experiences SDK](https://www.contentful.com/developers/docs/experiences/set-up-experiences-sdk/#usage).

## CLI Options

1. Dev - Argument that is likely only applicable if you are actively developing this package. If `--dev` argument is passed, some basic cleanup operations will occur after the bulk of the executable has be run, namely the auth token will be revoked if it was generated by the CLI in that run. Additionally, the react project that was bootstrapped during execution will be deleted.
    ```bash
    node dist/index.js --dev
    ```
2. Token - If you already have a valid API CLI token, you can optionally pass it as an argument. If you do not pass one, you will be prompted to create one at runtime.
    ```bash
    node dist/index.js --token <my_token>
    ```

## Environment Variables

The CLI tool automatically creates Vite environment variables for safely storing:

1. Contentful Space ID: `VITE_CTFL_SPACE_ID`
2. Contentful Environment ID: `VITE_CTFL_ENV_ID`
3. Contentful Experience Type ID: `VITE_CTFL_EXPERIENCE_TYPE_ID`
4. Contentful API Host: `VITE_CTFL_API_HOST`
5. Contentful Access Token: `VITE_CTFL_ACCESS_TOKEN`
6. Contentful Preview Token: `VITE_CTFL_PREVIEW_ACCESS_TOKEN`
