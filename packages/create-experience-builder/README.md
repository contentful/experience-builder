# @contentful/create-experience-builder

## Description

This package is a CLI tool to bootstrap a [React, Vite & TypeScript](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) app that renders your [Studio Experience](https://www.contentful.com/developers/docs/experiences/what-are-experiences/).

## Prerequisites

1. A Contentful Space that is "Experiences enabled" - [How to enable Experiences in a space.](https://www.contentful.com/help/enable-spaces-for-experiences/)
2. You must not have an Experiences Content type already configured for your space. For Studio Experiences to work correctly, a maximum of one experiences content type must be defined. As many individual experiences as required (within your subscription plan/billing) can be created.

## Getting started

```bash
npm init experience-builder
cd <your_studio_experiences_app_name>
npm run dev
```

## CLI steps

1. Project Type - currently only supports React.
2. React Type - currently only supports Vite + React + TypeScript
3. Installation location
4. _Optional_ Select your Contentful Space - Contentful Space selection - note, only spaces that have already been "Experiences" enabled are eligible. [How to enable Experiences in a space.](https://www.contentful.com/help/enable-spaces-for-experiences/)
   4a. Select your Contentful Organization
   4b. Select or Create an CLI API Token.
5. Experience Name - Choose a name for your Experience, something like `Studio Experiences Content Type`, or `Marketing Studio Canvas` might be a good idea. This name will be re-used for all future Experiences, as well as the initial Preview Environment
   6a. Content Type Creation - This step will create your Experience Content Type.
   6b. Experience Creation - This step will create a demo Experience to help you get started.
   6b. _Optional_ Preview Environment - This step will create a Preview Environment to host your Experience canvas.

## CLI Options

1. Dev - Argument that is likely only applicable if you are actively developing this cli package. If `--dev` argument is passed, some basic cleanup operations will occur after the bulk of the executable has be run, namely the auth token will be revoked if it was generated by the CLI in that run. Additionally, the react project that was bootstrapped during execution will be deleted.
   `$ node dist/index.js --dev`
2. Token - If you already have an valid API CLI token, you can optionally pass it as an argument. If you do not pass one, you will be prompted to create one at runtime.
   `$ node dist/index.js --token "<my_token>"`

## Environment Variables

The CLI tool automatically creates Vite environment variables for safely storing:

1. Contentful Space ID: `VITE_CTFL_SPACE_ID`
2. Contentful Environment ID: `VITE_CTFL_ENV_ID`
3. Contentful API HOST: `VITE_CTFL_API_HOST`
4. Contentful Access Token: `VITE_CTFL_ACCESS_TOKEN`
5. Contentful Preview Token: `VITE_CTFL_PREVIEW_ACCESS_TOKEN`
6. Contentful Experience Name Content Type Id: `VITE_CTFL_EXPERIENCE_TYPE_ID`
